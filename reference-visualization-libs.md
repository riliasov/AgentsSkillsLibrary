# Справочник: Библиотеки визуализации данных

> **Для кого:** Личный справочник для быстрого понимания различий между инструментами визуализации.
>
> **Цель:** Понять суть каждой библиотеки, чем отличаются, что для чего использовать.

---

## Основная идея

Библиотеки визуализации делятся на **две категории**:

1. **Только графики** — рисуют визуализации, но не делают UI (Plotly, Matplotlib, Altair, Seaborn)
2. **Полные фреймворки** — создают целые приложения с UI + графиками (Streamlit, Dash)

---

## 1. Plotly — Интерактивные графики

### Суть
Библиотека для создания красивых **интерактивных** графиков. Работает в Python, R, JavaScript. Графики можно зумить, наводить мышь (hover), экспортировать в PNG/SVG/HTML.

### В чем фишка?
- **Интерактивность:** Можно зумить, панорамировать, кликать на легенду
- **Standalone HTML:** Экспорт графика в HTML файл, который работает БЕЗ сервера
- **Много типов графиков:** 100+ видов (line, bar, scatter, heatmap, 3D, maps, и т.д.)
- **WebGL режим:** Для больших датасетов (миллионы точек)

### Чем отличается от других?
- **От Matplotlib:** Интерактивность "из коробки", современный дизайн
- **От Altair:** Больше контроля, но более многословный код
- **От Seaborn:** Универсальные графики, не только статистика

### Когда использовать?
- Нужен интерактивный отчет (зум, hover с данными)
- Экспорт в HTML для отправки коллегам
- Встроить визуализацию в веб-приложение
- Большие датасеты (WebGL)

### Когда НЕ использовать?
- Нужна статика для печатной публикации → Matplotlib
- Нужен быстрый EDA → Seaborn
- Нужно полное приложение → Streamlit/Dash

### Пример (суть кода)
```python
import plotly.graph_objects as go

fig = go.Figure()
fig.add_trace(go.Scatter(x=[1,2,3], y=[10,11,12], mode='lines'))
fig.show()  # Открывается в браузере
fig.write_html('chart.html')  # Экспорт в HTML
```

---

## 2. Streamlit — Быстрые Data Apps

### Суть
**Фреймворк** для создания веб-приложений с нуля за минуты. Не библиотека графиков, а полноценный инструмент для дашбордов.

### В чем фишка?
- **Скорость:** От идеи до работающего дашборда за 10 минут
- **Декларативный синтаксис:** Пишешь как скрипт, получаешь веб-приложение
- **Виджеты "из коробки":** Слайдеры, селекторы, кнопки, file uploader
- **Hot reload:** Изменил код → автообновление в браузере
- **Интеграция:** Работает с Plotly, Matplotlib, Altair

### Чем отличается от других?
- **От Plotly:** Это **приложение**, а не график. Plotly делает визуализации, Streamlit — UI вокруг них
- **От Dash:** Проще и быстрее, но меньше контроля
- **От Jupyter:** Не notebook, а полноценное веб-приложение

### Когда использовать?
- Быстрый прототип дашборда для себя/команды
- Внутренний инструмент для аналитики
- Демо ML модели
- Интерактивная визуализация данных с фильтрами

### Когда НЕ использовать?
- Production продукт с кастомным UI → Dash или React
- Статичный отчет → Plotly HTML
- Нужен полный контроль над layout → Dash

### Пример (суть кода)
```python
import streamlit as st
import pandas as pd

st.title("Мой Дашборд")
uploaded_file = st.file_uploader("Загрузи CSV")

if uploaded_file:
    df = pd.read_csv(uploaded_file)
    st.dataframe(df)
    st.line_chart(df)
```

Запуск: `streamlit run app.py` → открывается в браузере.

---

## 3. Dash — Production Dashboards

### Суть
**Фреймворк** для серьезных production дашбордов. Построен на React, но пишешь на Python. Больше контроля, чем Streamlit, но сложнее.

### В чем фишка?
- **Production-ready:** Масштабируемость, безопасность, деплой на сервера
- **Полный контроль UI:** Кастомный CSS, компоненты, layout
- **Reactive callbacks:** Изменение одного виджета → обновление других
- **Enterprise features:** Авторизация, кэширование, multi-page apps

### Чем отличается от других?
- **От Streamlit:** Больше кода, больше контроля, медленнее разработка
- **От Plotly:** Это фреймворк вокруг Plotly (Dash сделан теми же авторами)
- **От React:** Пишешь на Python, а не JavaScript

### Когда использовать?
- Production дашборд для бизнеса
- Кастомный UI с брендингом
- Многостраничные приложения
- Нужна авторизация, роли пользователей

### Когда НЕ использовать?
- Быстрый прототип → Streamlit
- Разовый отчет → Plotly HTML
- Нет времени на изучение → Streamlit

### Пример (суть кода)
```python
from dash import Dash, dcc, html, callback, Input, Output

app = Dash(__name__)
app.layout = html.Div([
    dcc.Dropdown(id='dropdown', options=['A', 'B']),
    dcc.Graph(id='graph')
])

@callback(Output('graph', 'figure'), Input('dropdown', 'value'))
def update_graph(value):
    # Логика обновления графика
    return fig

app.run(debug=True)
```

---

## 4. Matplotlib — Классика для статики

### Суть
Самая **старая и фундаментальная** библиотека визуализации в Python. Полный низкоуровневый контроль. Статичные графики для публикаций.

### В чем фишка?
- **Полный контроль:** Каждый пиксель можно настроить
- **Векторный экспорт:** SVG, PDF для печати в высоком разрешении
- **Стандарт:** Используется в научных публикациях
- **Backend гибкость:** Работает везде (Jupyter, скрипты, GUI)

### Чем отличается от других?
- **От Plotly:** Статика vs интерактивность
- **От Seaborn:** Низкоуровневый vs высокоуровневый
- **От Altair:** Императивный vs декларативный

### Когда использовать?
- Научная статья, диссертация
- Нужен векторный формат для печати
- Сложные кастомные графики (субплоты, аннотации)
- Полный контроль стилизации

### Когда НЕ использовать?
- Нужна интерактивность → Plotly
- Быстрый EDA → Seaborn
- Веб-дашборд → Streamlit/Dash

### Пример (суть кода)
```python
import matplotlib.pyplot as plt

plt.figure(figsize=(10, 6))
plt.plot([1,2,3], [10,11,12], color='green', linewidth=2)
plt.title('Мой график')
plt.xlabel('X')
plt.ylabel('Y')
plt.grid(True)
plt.savefig('chart.png', dpi=300)
plt.show()
```

---

## 5. Altair — Декларативная простота

### Суть
**Декларативная** библиотека на основе Vega-Lite. Описываешь **что хочешь**, а не **как рисовать**. Минимум кода.

### В чем фишка?
- **Лаконичность:** Один график — 3-5 строк кода
- **Grammar of Graphics:** Описываешь данные → кодировки → график
- **Интерактивность:** Hover, zoom, selection "из коробки"
- **Экспорт:** HTML, PNG, SVG

### Чем отличается от других?
- **От Plotly:** Проще синтаксис, но меньше типов графиков
- **От Matplotlib:** Декларативный vs императивный
- **От Seaborn:** Интерактивный, но меньше статистических графиков

### Когда использовать?
- Быстрый EDA с интерактивностью
- Простые графики с минимумом кода
- Любишь декларативный стиль

### Когда НЕ использовать?
- Сложные кастомные визуализации → Matplotlib
- Нужно больше типов графиков → Plotly
- Production дашборд → Dash/Streamlit

### Пример (суть кода)
```python
import altair as alt
import pandas as pd

df = pd.DataFrame({'x': [1,2,3], 'y': [10,11,12]})
chart = alt.Chart(df).mark_line().encode(x='x', y='y').interactive()
chart.show()
```

---

## 6. Seaborn — Статистика красиво

### Суть
Обертка над Matplotlib для **статистических** графиков. Красивые стили "из коробки". Специализация: EDA и статистика.

### В чем фишка?
- **Статистика:** Box plot, violin plot, heatmap, pair plot, regression
- **Красивые дефолты:** Без настройки выглядит лучше Matplotlib
- **Простой API:** Один вызов функции — готовый график
- **Pandas integration:** Напрямую работает с DataFrame

### Чем отличается от других?
- **От Matplotlib:** Высокоуровневый, красивее, меньше кода
- **От Plotly:** Статика, но специализация на статистике
- **От Altair:** Больше статистических функций

### Когда использовать?
- Исследовательский анализ данных (EDA)
- Статистическая визуализация
- Нужны box plots, violin plots, heatmaps
- Быстро и красиво

### Когда НЕ использовать?
- Нужна интерактивность → Plotly
- Временные ряды сложные → Plotly/Matplotlib
- Веб-дашборд → Streamlit/Dash

### Пример (суть кода)
```python
import seaborn as sns
import matplotlib.pyplot as plt

sns.set_theme(style='whitegrid')
sns.boxplot(data=df, x='category', y='value', palette='Greens')
plt.show()
```

---

## Как выбрать? Простая логика

### Задача: Быстрый прототип дашборда
**→ Streamlit + Plotly**

Почему: Streamlit делает UI за минуты, Plotly — интерактивные графики.

---

### Задача: Интерактивный отчет (HTML файл)
**→ Plotly**

Почему: Экспорт в HTML, работает без сервера, можно отправить коллегам.

---

### Задача: Production веб-дашборд
**→ Dash + Plotly**

Почему: Полный контроль, масштабируемость, безопасность.

---

### Задача: Научная публикация
**→ Matplotlib или Seaborn**

Почему: Векторный экспорт, полный контроль стилизации, высокое разрешение.

---

### Задача: Исследовательский анализ (EDA)
**→ Seaborn + Altair**

Почему: Быстро, красиво, статистика "из коробки".

---

### Задача: Кастомная сложная визуализация
**→ Matplotlib**

Почему: Низкоуровневый контроль каждого элемента.

---

## Можно комбинировать?

**Да!** Например:

- **Streamlit + Plotly** — самая популярная комбинация (быстрый дашборд с интерактивными графиками)
- **Streamlit + Matplotlib** — если нужны кастомные статичные графики в дашборде
- **Dash + Plotly** — production дашборды
- **Jupyter + любая библиотека** — для исследований

---

## Итог: Что из этого использовать для твоих проектов?

### Для `tg_analytics` и подобных
**Рекомендую: Streamlit + Plotly**

**Причины:**
1. Быстрый результат (дашборд за 15-30 минут)
2. Интерактивные графики (zoom, hover, tooltips)
3. Встроенные фильтры (date range, client selector)
4. Легко показать заказчику/клиенту
5. Можно мигрировать на Dash если нужен production

### Когда растешь и нужен production
**Dash** — для серьезных дашбордов с кастомным UI.

### Когда нужна статика (отчеты, презентации)
**Plotly** → экспорт в HTML или PNG.

---

## Учебный проект

Создам отдельный проект `visualization_comparison` где на ОДНИХ И ТЕХ ЖЕ данных покажу все 6 библиотек. Смотри в соседней папке.
